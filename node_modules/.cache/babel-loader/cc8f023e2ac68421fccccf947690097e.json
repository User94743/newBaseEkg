{"ast":null,"code":"import _slicedToArray from\"C:/Users/Admin/Desktop/my-app-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Menu from\"../../menu/menuContainer\";import style from\"./addAccident.module.css\";import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var addAccident=function addAccident(props){// eslint-disable-next-line react-hooks/rules-of-hooks\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),machine=_useState2[0],setMachine=_useState2[1];// eslint-disable-next-line react-hooks/rules-of-hooks\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),partMachine=_useState4[0],setPartMachine=_useState4[1];// eslint-disable-next-line react-hooks/rules-of-hooks\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),header=_useState6[0],setHeader=_useState6[1];// eslint-disable-next-line react-hooks/rules-of-hooks\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];// eslint-disable-next-line react-hooks/rules-of-hooks\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),nku=_useState10[0],setNku=_useState10[1];var onMachineChange=function onMachineChange(e){var valueMachine=e.currentTarget.value;setMachine(valueMachine);setNku(props.listMachine.filter(function(machine){return machine.number===valueMachine;})[0].schema);};var onPartMachineChange=function onPartMachineChange(e){setPartMachine(e.currentTarget.value);};var onHeaderChange=function onHeaderChange(e){setHeader(e.currentTarget.value);};var onDescriptionChange=function onDescriptionChange(e){setDescription(e.currentTarget.value);};var onAddAccident=function onAddAccident(){var countDate=dateAccident.getDate()<12?\"0\"+dateAccident.getDate():dateAccident.getDate();var monthDate=dateAccident.getMonth()<12?\"0\"+dateAccident.getMonth():dateAccident.getMonth();var yearDate=dateAccident.getFullYear();var hoursDate=dateAccident.getHours()<12?\"0\"+dateAccident.getHours():dateAccident.getHours();var minutesDate=dateAccident.getMinutes()<12?\"0\"+dateAccident.getMinutes():dateAccident.getMinutes();props.addAccidentToFireStore({id:props.lengthAccidents,numberMachine:machine,nku:nku,clearDate:monthDate+\".\"+yearDate,part:partMachine,nameAccident:header,description:description,date:countDate+\".\"+monthDate+\".\"+yearDate+\" Время: \"+hoursDate+\":\"+minutesDate});props.history.push('/accidents');};// eslint-disable-next-line react-hooks/rules-of-hooks\nvar _useState11=useState(new Date()),_useState12=_slicedToArray(_useState11,2),dateAccident=_useState12[0],onChange=_useState12[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"container-lg center\",children:[/*#__PURE__*/_jsx(Menu,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0438 \\u043E\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0443\"}),/*#__PURE__*/_jsxs(\"div\",{className:style.formBlock,children:[/*#__PURE__*/_jsxs(\"select\",{onChange:onMachineChange,className:\"form-select\",\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{selected:true,children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u042D\\u041A\\u0413\"}),props.listMachine.map(function(m){return/*#__PURE__*/_jsx(\"option\",{value:m.number,children:m.number});})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"\\u0423\\u0437\\u0435\\u043B\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onPartMachineChange,type:\"text\",className:\"form-control\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0437\\u043B\\u0430\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onHeaderChange,type:\"text\",className:\"form-control\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:style.formBlock,children:/*#__PURE__*/_jsx(Calendar,{onChange:onChange,value:dateAccident})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:onDescriptionChange,className:\"form-control\",\"aria-label\":\"With textarea\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:onAddAccident,type:\"button\",className:\"btn btn-outline-primary\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]});};export default addAccident;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/my-app-master/src/components/library/addAccident/addAccident.jsx"],"names":["React","useEffect","useState","Menu","style","Calendar","addAccident","props","machine","setMachine","partMachine","setPartMachine","header","setHeader","description","setDescription","nku","setNku","onMachineChange","e","valueMachine","currentTarget","value","listMachine","filter","number","schema","onPartMachineChange","onHeaderChange","onDescriptionChange","onAddAccident","countDate","dateAccident","getDate","monthDate","getMonth","yearDate","getFullYear","hoursDate","getHours","minutesDate","getMinutes","addAccidentToFireStore","id","lengthAccidents","numberMachine","clearDate","part","nameAccident","date","history","push","Date","onChange","formBlock","map","m"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Menu from \"../../menu/menuContainer\";\r\nimport style from \"./addAccident.module.css\"\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nconst addAccident = (props) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [machine, setMachine] = useState(false);\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [partMachine, setPartMachine] = useState(false);\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [header, setHeader] = useState(false);\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [description, setDescription] = useState(false);\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [nku, setNku] = useState(false);\r\n\r\n    let onMachineChange = (e) => {\r\n        let valueMachine = e.currentTarget.value\r\n        setMachine(valueMachine)\r\n        setNku(props.listMachine.filter(machine => machine.number === valueMachine)[0].schema)\r\n    }\r\n    let onPartMachineChange = (e) => {\r\n        setPartMachine(e.currentTarget.value)\r\n    }\r\n    let onHeaderChange = (e) => {\r\n        setHeader(e.currentTarget.value)\r\n    }\r\n    let onDescriptionChange = (e) => {\r\n        setDescription(e.currentTarget.value)\r\n    }\r\n    let onAddAccident = () => {\r\n        let countDate = dateAccident.getDate() < 12 ? \"0\" + dateAccident.getDate() : dateAccident.getDate();\r\n        let monthDate = dateAccident.getMonth() < 12 ? \"0\" + dateAccident.getMonth() : dateAccident.getMonth();\r\n        let yearDate = dateAccident.getFullYear();\r\n        let hoursDate = dateAccident.getHours() < 12 ? \"0\" + dateAccident.getHours() : dateAccident.getHours();\r\n        let minutesDate =  dateAccident.getMinutes() < 12 ? \"0\" + dateAccident.getMinutes() : dateAccident.getMinutes();\r\n\r\n        props.addAccidentToFireStore({id: props.lengthAccidents,\r\n            numberMachine: machine,\r\n            nku: nku,\r\n            clearDate: monthDate + \".\" + yearDate,\r\n            part: partMachine,\r\n            nameAccident: header,\r\n            description: description,\r\n            date: countDate + \".\" + monthDate\r\n                + \".\" + yearDate + \" Время: \" + hoursDate +\":\"+ minutesDate });\r\n        props.history.push('/accidents')\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n        const [dateAccident, onChange] = useState(new Date());\r\n\r\n    return <div className=\"container-lg center\">\r\n        <Menu/>\r\n        <h1>Введите необходимые данные и опишите проблему</h1>\r\n        <div className={style.formBlock}>\r\n            <select onChange={onMachineChange} className=\"form-select\" aria-label=\"Default select example\">\r\n                <option selected>Выберите ЭКГ</option>\r\n                {props.listMachine.map(m =>\r\n                    <option value={m.number}>{m.number}</option>\r\n                )}\r\n            </select>\r\n            <br/>\r\n\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">Узел</span>\r\n            <input onChange={onPartMachineChange} type=\"text\" className=\"form-control\" placeholder=\"Введите название узла\" aria-label=\"Username\"\r\n                   aria-describedby=\"basic-addon1\"/>\r\n            <br/>\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">Заголовок</span>\r\n            <input onChange={onHeaderChange} type=\"text\" className=\"form-control\" placeholder=\"Введите заголовок\" aria-label=\"Username\"\r\n                   aria-describedby=\"basic-addon1\"/>\r\n            <br/>\r\n        </div>\r\n        <div className={style.formBlock}>\r\n            <Calendar onChange={onChange} value={dateAccident} />\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n            <span className=\"input-group-text\">Описание</span>\r\n            <textarea onChange={onDescriptionChange} className=\"form-control\" aria-label=\"With textarea\"></textarea>\r\n        </div>\r\n        <br/>\r\n\r\n        <button onClick={onAddAccident} type=\"button\" className=\"btn btn-outline-primary\">Отправить</button>\r\n\r\n    </div>\r\n}\r\n\r\nexport default addAccident;"]},"metadata":{},"sourceType":"module"}